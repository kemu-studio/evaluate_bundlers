var kcore=function(){"use strict";var t={exports:{}},e={exports:{}};class s{constructor(t){this.info=t}toString(){let t="<unknown>",e="";if(null!=this.info&&(null!=this.info.errorCode&&(t=this.info.errorCode),null!=this.info.ext))try{e=JSON.stringify(this.info.ext)}catch(t){e="["+typeof this.info.ext+"]"}return`ERROR: ${t}, ${e}.`}getErrorCode(){return null!=this.info&&null!=this.info.errorCode?this.info.errorCode:null}getExt(){return null!=this.info&&null!=this.info.ext?this.info.ext:null}getExtData(t){return null!=this.info&&null!=this.info.ext?this.info.ext[t]:null}static createParameterNotSetError(t){return new s({errorCode:"parameterNotSet",ext:{parameterName:t}})}static createInvalidParameterError(t,e){return new s({errorCode:"invalidParameter",ext:{paramaterName:t,parameterValue:e}})}static createNotFoundError(t){return new s({errorCode:"notFound"},{ext:t})}static reportNotFound(t){return console.log("ERROR: Not found",t)}static reportIfParameterNotSet(t,e){if(null==t)return console.log(`ERROR: Parameter ${e} is not set.`)}static reportNotImplemented(t){return console.log(`ERROR: ${t} is not implemented yet.`)}static reportInternalError(t){return console.log("ERROR: Internal error ",t)}}var r={KError:s};const i={};class a{static getOnClickEventBlockerTxt(){return'onclick="'+a.getOnClickEventBlockerFunctionCodeAsText()+'"'}static onClickBlocker(t){let e=t||window.event;if(e.shiftKey||e.ctrlKey)return!0;{let t=0!=e.button;return e.returnValue=t,t}}static getOnClickEventBlockerFunctionCodeAsText(){return"return K.KLinksUtil.onClickBlocker(arguments[0]);"}static getOnClickEventBlockerFullFunctionCodeAsText(){return"var e=arguments[0]||window.event;if(e.shiftKey||e.ctrlKey){return true;}else{var r=(e.button!=0);e.returnValue=r;return r;};"}static getLinkAsDataParam(t){return`data-linkin="${t}"`}}var n={BSC:i,getBSC:()=>i,KPrototype:class{constructor(t){this.pattern=Object.assign({},t),this.arrayOfInitFunctions=[];for(let e in t)this.pattern[e]=t[e];"function"==typeof t.init&&this.arrayOfInitFunctions.push(t.init)}mix(t){return Object.assign(this.pattern,t.pattern),this.arrayOfInitFunctions=this.arrayOfInitFunctions.concat(t.arrayOfInitFunctions),this}extends(t){return Object.setPrototypeOf(this.pattern,t.pattern),this}create(t){const e=Object.create(this.pattern);for(let s in this.arrayOfInitFunctions)this.arrayOfInitFunctions[s].call(e,t);return e}},KArray:class{static pushOnce(t,e){if(-1===this.indexOf(t,e))return t.push(e)}static indexOf(t,e,s){if(t){if(null!=Array.prototype.indexOf)return t.indexOf(e);const r=t.length;for(s?s<0&&(s=Math.max(0,r+s)):s=0;s<r;){if(s in t&&t[s]===e)return s;s++}}return-1}static toggleItem(t,e){const s=_.indexOf(t,e);return-1===s?t.push(e):t.splice(s,1)}static removeAll(t,e){if(Array.prototype.indexOf){let s=null;for(;(s=t.indexOf(e))>-1;)t.splice(s,1)}else for(let s in t)t[s]===e&&t.splice(s,1)}static deepCopy(t){const e=[];for(let s of t)e.push(s);return e}},KCrudListSyncAbstractOperator:class{create(t,e,s){}update(t,e,s){}read(t,e,s){}destroy(t,e,s){}},KCrudListSync:class{constructor(t){this.crudOperator=t}syncAll(t,e){if(t.length>e.length)for(let s=t.length-1;s>=e.length;s--)this.crudOperator.destroy(t,e,s),t.splice(s,1);for(let s=0;s<t.length;s++)this.crudOperator.update(t,e,s);if(t.length<e.length)for(let s=t.length;s<e.length;s++)t[s]={},this.crudOperator.create(t,e,s)}readAll(t,e){for(let s=0;s<t.length;s++)this.crudOperator.read(t,e,s)}destroyAll(t,e){for(let s=t.length-1;s>=0;s--)this.crudOperator.destroy(t,e,s),t.splice(s,1);t=[]}},KLinksUtil:a};const{KPrototype:o}=n,h=Object;class l{static createPrototype(t){return new o(t)}static create(t,e){return t.create(e)}static merge(t,e){for(let s in e)t[s]=e[s];return t}static mergeArrayToMapByKey(t,e,s){for(let r in e){const i=e[r];t[i[s]]=i}return t}static shallowCopy(t){const e={};return l.merge(e,t),e}static deepCopy(t){return this.shallowCopy(t)}static deepClone(t){let e=null;if(this.isObject(t))if(l.isNotNull(t.clone))e=t.clone();else if(this.isArray(t))e=t.slice(0);else{e={};for(let s in t){const r=t[s];e[s]=l.deepClone(r)}}else e=t;return e}static setByPath(t,e,s){let r=!0;if(l.isUndefinedOrNull(t))r=!1;else if(l.isUndefinedOrNull(e)||""===e||"."===e[e.length-1])r=!1;else{const i=e.split(".");let a=t;const n=i.length;if(n>0){for(let t=0,e=n-1,s=0<=e;s?t<e:t>e;s?t++:t--){const e=i[t];if(""===e){r=!1;break}l.ensureObjectFieldExists(a,e),a=a[e]}if(!0===r){a[i[n-1]]=s}}}return r}static isArray(t){return l.isNotNull(t)&&t.constructor===Array}static isObject(t){return l.isNotNull(t)&&"object"==typeof t}static ensureArrayFieldExists(t,e,s){l.isUndefinedOrNull(s)&&(s=[]),l.isArray(t[e])||(t[e]=s)}static ensureObjectFieldExists(t,e,s){l.isUndefinedOrNull(s)&&(s={}),l.isObject(t[e])||(t[e]=s)}static ensureStringFieldExists(t,e,s){l.isUndefinedOrNull(s)&&(s=""),l.isString(t[e])||(t[e]=s)}static createOnce(t,e,s){l.isNotNull(t[e])||(t[e]=s(t,e))}static getFieldOrDefault(t,e,s){return l.isUndefinedOrNull(t)||l.isUndefinedOrNull(t[e])?s:t[e]}static areDeepEqual(t,e){let s=!1;if(typeof t!=typeof e)s=!1;else if(l.isObject(t)&&l.isObject(e)){s=!0;const r=h.keys(t),i=h.keys(e);if(r.length!==i.length)s=!1;else for(let r in t)if(!l.areDeepEqual(t[r],e[r])){s=!1;break}}else s=t===e;return s}static isString(t){return t instanceof String||"string"==typeof t}static isExistent(t){return void 0!==t}static isNotNull(t){return l.isExistent(t)&&null!==t}static isNotEmptyString(t){return l.isString(t)&&""!=t}static isUndefined(t){return void 0===t}static isUndefinedOrNull(t){return l.isUndefined(t)||null==t}}var c={KObject:l};class u{constructor(t){t.id?this.id=t.id:(u.uniqueId++,this.id=u.uniqueId),this.listener=t,this.nextCallTime=0,this.delay=0,this.timerHandle=null,this.callOnceMode=!1}_killTimer(){this.nextCallTime=0,this.timerHandle&&clearTimeout(this.timerHandle)}_castTimer(){this._killTimer(),this.nextCallTime=this._now()+this.delay,this.timerHandle=setTimeout((()=>{this._onTryCalling()}),this.delay),this.timerHandle.unref&&this.timerHandle.unref()}_now(){return(new Date).getTime()}destroy(){this._killTimer()}callEvery(t){this.callOnceMode=!1,this.delay=t,this._castTimer(this.delay)}_onTryCalling(){const t=this._now();this.callOnceMode?this.nextCallTime=0:this.nextCallTime=t+this.delay,this.listener.onTimer(t),!this.callOnceMode&&this.nextCallTime&&this._castTimer()}callOnce(t,e){if(this.callOnceMode=!0,0===this.nextCallTime)this.delay=e;else{let s=this.nextCallTime-this._now();s<t&&(s=t),s>e&&(s=e),this.delay=s}this._castTimer()}}u.uniqueId=0;var d={KTimer:u};const{KObject:m}=c;class y{static parseInput(t){let e=NaN;return null!=t&&("string"==typeof t?(e=t.replace(",","."),e=e.replace(/ /g,""),e="-"===e?NaN:y.isDecimalFloat(e)?parseFloat(e):NaN):"number"==typeof t&&(e=t)),e}static _isDecimalCore(t,e,s){let r=!0;m.isUndefinedOrNull(e)&&(e=1),m.isUndefinedOrNull(s)&&(s=1);const i=t.length;0===i&&(r=!1);let a=0,n=0,o=0,h=0,l=0;for(;a<i&&r;){const i=t.charAt(a);if("."===i||","===i)switch(l){case 0:case 1:case 2:o++,o>s&&(r=!1);break;default:r=!1}else"-"===i?(h++,0!==l||h>e?r=!1:l=1):"0123456789".includes(i)?(n++,1===n&&(l=2)):" "==i||(r=!1);a++}return 0==n&&(r=!1),r}static isDecimalFloat(t){let e=!1;if("number"==typeof t)e=!isNaN(t);else if(m.isString(t)){const s=t.toLowerCase().indexOf("e");if(-1!=s){let r=s+1;"+"==t[r]&&r++;const i=t.substr(0,s),a=t.substr(r);e=this._isDecimalCore(i,1,1)&&this._isDecimalCore(a,1,0)}else e=this._isDecimalCore(t,1,1)}else e=!1;return e}static isDecimalInteger(t){let e=!1;return e="number"==typeof t?Math.floor(t)===t:!!m.isString(t)&&this._isDecimalCore(t,1,0),e}static floorToDecimals(t,e){if(0===e)return Math.floor(t);{const s=Math.pow(10,e);return Math.floor(s*t)/s}}static roundToDecimals(t,e){if(0===e)return Math.round(t);{const s=Math.pow(10,e);return Math.round(s*t)/s}}static roundForPresentation(t,e,s,r,i,a,n){let o;if(null==t)o="?";else if(isNaN(t)||"number"!=typeof t)o="NaN";else if(isFinite(t))if(t===Number.NEGATIVE_INFINITY)o="-inf";else{const s=t*Math.pow(10,e);let i=y.roundToDecimals(s,r);if(0==t)o="0";else{const t=s<0?1:0;let e=Math.abs(s),a=0;for(;e>=10;)e*=.1,a++;for(;e<1;)e*=10,a--;if(y.roundToDecimals(e,r)>=10&&(e*=.1,a++),a>-r){let t=11-a;t<0&&(t=0),t>r&&(t=r),i=y.roundToDecimals(s,t)}else i="e";const h=`${i}`,l=h.indexOf(".")>=0?1:0;n&&-1===h.indexOf("e")&&h.length<13+l+t?o=i.toString():(o=t?"-":"",o+=y.roundToDecimals(e,r),0!==a&&(o=o+"Ã—10<sup>"+a+"</sup>"))}}else o=t<0?"-inf":"+inf";return o}static roundForPresentationDefault(t){return y.roundForPresentation(t,0,12,9," ",".",1)}static roundForInputDefault(t){return y.roundToDecimals(t,10)}static parseInputIfNotEmpty(t,e){if("string"==typeof t){if(""===t.replace(/ /g,""))return e}return this.parseInput(t)}static isParsedInputValid(t){return"string"==typeof t?0:1}}var p,D,S,f,I={KNumber:y};function g(){if(D)return p;D=1;const{KError:t}=r;return p={KBSCVariantAbstract:class{constructor(t,e){this.variantNamespace=t||this._getDefaultNamespace(),this.options=e||{}}clone(){return t.reportNotImplemented("KBSCVariantAbstract::clone()")}isEqualTo(e){return t.reportNotImplemented("KBSCVariantAbstract::compare()")}toString(){return t.reportNotImplemented("KBSCVariantAbstract::toString()")}readFromStream(e){return t.reportNotImplemented("KBSCVariantAbstract::readFromStream()")}encodeToURIComponent(){return t.reportNotImplemented("KBSCVariantAbstract::encodeToURIComponent()")}initFromString(t){this.variantNamespace.readValueFromStream({src:t,idx:0})}_getDefaultNamespace(){const{variantDefaultNamespace:t}=C();return t}static areSettingsEqual(t,e){let s=!1;return s=null==t&&null==e||!(null!=t&&null==e||null==t&&null!=e)&&(null!=t.getClassId&&null!=t.getClassId&&t.getClassId()===e.getClassId()?t.isEqualTo(e):typeof t==typeof e?t===e:t.toString()===e.toString()),s}static cloneSetting(t){let e=null;return e=null!=t&&null!=t.clone?t.clone():t,e}static readValueFromStream(e){t.reportNotImplemented("KBSCVariantAbstract::readValueFromStream")}static readKeyFromStream(e){t.reportNotImplemented("KBSCVariantAbstract::readKeyFromStream")}static decodeFromURIComponent(e,s){t.reportNotImplemented("KBSCVariantAbstract::decodeFromURIComponent")}static encodeToURIComponent(e,s){t.reportNotImplemented("KBSCVariantAbstract::encodeFromURIComponent")}getClassId(){t.reportNotImplemented("KBSCVariantAbstract::getClassId()")}}},p}function C(){if(f)return S;f=1;const{KError:t}=r,{KObject:e}=c,{KBSCVariantAbstract:s}=g(),i={init(t){this.name=t,this.mapOfVariantTypes={}},createVariantInstance(t,s){let r=null;const i=this.mapOfVariantTypes[t];return i?r=i(this,s=e.isObject(s)?s:{}):console.log('PANIC! Unknown varint type id ""',t),r},registerVariantType(e,r){if("function"!=typeof r)throw new t({errorCode:"invalidVariantCreateFunction",ext:{typeId:e,variantCreateFunctionType:typeof r,variantCreateFunction:r}});r.prototype instanceof s?this.mapOfVariantTypes[e]=(t,e)=>new r(t,e):this.mapOfVariantTypes[e]=r},createExtension(t){const e=a(t);return e.mapOfVariantTypes=Object.create(this.mapOfVariantTypes),e},_decodeURIComponentOrNoText(t){let e=null;try{e=decodeURIComponent(t)}catch(s){console.log("warning: malformed URI:",t),e=""}return e},readValueFromStream(e){let s=null;if(!e.err){let r=e.src,i=e.idx,a=-1;if(e.deep++,i>=r.length)e.err=new t({errorCode:"endOfStream"});else if("$"!=r[i]){if(1==e.deep)a=-1;else{const t=r.indexOf(",",i),e=r.indexOf(")",i);a=-1!=t&&-1!=e?Math.min(t,e):-1!=t?t:e}if(-1==a){const t=r.substr(i);s=this._decodeURIComponentOrNoText(t),i+=t.length}else{const t=r.substr(i,a-i);s=this._decodeURIComponentOrNoText(t),i+=t.length}e.idx=i}else{const a=r.indexOf("(",i),n=r.substr(i+1,a-i-1);if(-1==a)e.err=new t({errorCode:"openingParenthesisMissing"});else{const r=this.createVariantInstance(n);r||(e.err=new t({errorCode:"unknownClassId",ext:{id:n}})),r&&(e.idx=a+1,r.readValueFromStream(e),e.err||(")"!=e.src[e.idx]?e.err=new t({errorCode:"closingParenthesisMissing"}):(e.idx++,s=r)))}}","==e.src[e.idx]&&e.idx++,e.deep--}return s},readKeyFromStream(e){let s=null;if(!e.err){let r=e.src,i=e.idx,a=r.indexOf(":",i);i>=r.length?e.err=new t({errorCode:"endOfStream"}):-1==a?e.err=new t({errorCode:"keyDelimeterExpected"}):(s=r.substr(i,a-i),e.idx=a+1)}return s},decodeFromURIComponent(t,e){let s=null;if(s=""==t?"":this.readValueFromStream({src:t.toString(),deep:0,idx:0}),"string"==typeof s&&e&&e.classId){const r="$"+e.classId+"("+t+")";s=this.decodeFromURIComponent(r)}return s},encodeToURIComponent(t,e){let s=null;return t&&t.encodeToURIComponent?s=t.encodeToURIComponent(e):(s=encodeURIComponent(t),s=s.replace(/,/g,"%2C").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/:/g,"%3A")),s}},a=function(t){const e=Object.create(i);return e.init(t),e},n=a("default");return S={KBSCVariantNamespaceProto:i,KBSCVariantNamespace:a,variantDefaultNamespace:n}}const{KObject:M}=c,{KNumber:Y}=I,{KBSCVariantAbstract:T}=g(),{variantDefaultNamespace:O}=C();class R extends T{constructor(){super(),this.year=0,this.month=0,this.day=0,this.hours=0,this.minutes=0,this.seconds=0,this.weekDay=-1,this.parseStatus={all:R.STATUS_OK}}static _createNewInstance(){return new R}static createFromSingleVars(t,e,s,r,i,a){const n=this._createNewInstance();return n.setFromSingleVars(t,e,s,r,i,a),n}static createFromDateObj(t){const e=this._createNewInstance();return e.setFromSingleVars(Math.abs(t.getFullYear()),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()),e}static createFromYYYYMMDDString(t){const e=this._createNewInstance();return e.setFromYYYYMMDDString(t),e}static createFromYYYYMMDD(t){return this.createFromYYYYMMDDString(t)}static createFromYYYYMMDDHHMMSS(t){const e=this._createNewInstance();return e.setFromYYYYMMDDHHMMSS(t),e}static createFromNow(t=0,e=0,s=0){const r=new Date,i=this._createNewInstance();return i.setFromSingleVars(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),0),t<0&&i.decYearBy(-t),t>0&&i.incYearBy(t),e<0&&i.decMonthBy(-e),e>0&&i.incMonthBy(e),s<0&&i.decDayBy(-s),s>0&&i.incDayBy(s),i}static createFromNearestNewYear(t=null){let e=-1;if(null!=t)e=t.year;else{e=(new Date).getFullYear()}const s=this._createNewInstance();return s.setFromSingleVars(e+1,1,1,0,0,0,0),s}getDeepCopy(){const t=new R;return t.setFromYMDHMS(this),t.parseStatus=M.deepClone(this.parseStatus),t}_validateVars_propagateStatus(){this.parseStatus.year===R.STATUS_OK&&this.parseStatus.month===R.STATUS_OK&&this.parseStatus.day===R.STATUS_OK&&this.parseStatus.hours===R.STATUS_OK&&this.parseStatus.minutes===R.STATUS_OK&&this.parseStatus.seconds===R.STATUS_OK||(this.parseStatus.all=R.STATUS_ILLEGAL)}_validateVars(){this.parseStatus.year=this._toParseStatus(Y.isDecimalInteger(this.year)),this.parseStatus.month=this._toParseStatus(Y.isDecimalInteger(this.month)),this.parseStatus.day=this._toParseStatus(Y.isDecimalInteger(this.day)),this.parseStatus.hours=this._toParseStatus(Y.isDecimalInteger(this.hours)),this.parseStatus.minutes=this._toParseStatus(Y.isDecimalInteger(this.minutes)),this.parseStatus.seconds=this._toParseStatus(Y.isDecimalInteger(this.seconds)),this._validateVars_propagateStatus()}_normalizeVars(){this.parseStatus.all!==R.STATUS_ILLEGAL&&(this.year=parseInt(this.year),this.month=parseInt(this.month),this.day=parseInt(this.day),this.hours=parseInt(this.hours),this.minutes=parseInt(this.minutes),this.seconds=parseInt(this.seconds))}static getTodayYYYYMMDD(t=0,e=0,s=0){const r=R.createFromNow();return t<0&&r.decYearBy(-t),t>0&&r.incYearBy(t),e<0&&r.decMonthBy(-e),e>0&&r.incMonthBy(e),s<0&&r.decDayBy(-s),s>0&&r.incDayBy(s),r.toYYYYMMDDInt()}static getTodayYYYYMMDDHHMMSS(t=0,e=0,s=0){const r=R.createFromNow();return t<0&&r.decYearBy(-t),t>0&&r.incYearBy(t),e<0&&r.decMonthBy(-e),e>0&&r.incMonthBy(e),s<0&&r.decDayBy(-s),s>0&&r.incDayBy(s),r.toYYYYMMDDHHMMSSInt()}static getCurrentYear(){return(new Date).getFullYear()}static getCurrentMonth(){return(new Date).getMonth()+1}static getCurrentDay(){return(new Date).getDate()}_correctDaysInMonth(){this.day>this._daysInMonth(this.year,this.month-1)&&(this.day=this._daysInMonth(this.year,this.month-1),this.weekDay=-1)}_zeroFill(t,e){return t.toString().padStart(e,"0")}toYYYY_MM_DDString(){return this._zeroFill(this.year,4)+"-"+this._zeroFill(this.month,2)+"-"+this._zeroFill(this.day,2)}toYYYYMMDDInt(){return parseInt(this._zeroFill(this.year,4)+this._zeroFill(this.month,2)+this._zeroFill(this.day,2))}toYYYYMMDDHHMMSSString(){return this._zeroFill(this.year,4)+this._zeroFill(this.month,2)+this._zeroFill(this.day,2)+this._zeroFill(this.hours,2)+this._zeroFill(this.minutes,2)+this._zeroFill(this.seconds,2)}toYYYYMMDDHHMMSSInt(){return parseInt(this.toYYYYMMDDHHMMSSString())}_toParseStatus(t){return t?R.STATUS_OK:R.STATUS_ILLEGAL}_computeWeekDay(){const t=new Date(this.year,this.month-1,this.day,0,0,0,0);return this.weekDay=t.getDay()}_daysInMonth(t,e){return 1===e?0==(3&t)?29:28:3===e||5===e||8===e||10===e?30:31}isAfternoon(){return 0===this.hours&&0===this.minutes&&0===this.seconds}static isDayExcludedDefaultCallback(t,e,s=!0){let r=!1;return e.excludeSaturdays&&t.getWeekDay()===R.SATURDAY?(r=!0,s&&e.excludedSaturdaysCnt++):e.excludeSundays&&t.getWeekDay()===R.SUNDAY&&(r=!0,s&&e.excludedSundaysCnt++),e.excludePublicHolidays&&e.holidaysIdx<e.holidays.length&&e.holidays[e.holidaysIdx].timestamp.isDateEqualTo(t)&&(r=!0,s&&(e.holidaysIdx++,e.excludedHolidaysCnt++)),r&&s&&e.excludedDaysCnt++,r}setFromYMDHMS(t){this.year=t.year,this.month=t.month,this.day=t.day,this.hours=t.hours,this.minutes=t.minutes,this.seconds=t.seconds,this._validateVars(),this._normalizeVars(),this._computeWeekDay()}setFromYYYYMMDDString(t){t=""+t,this.year=parseInt(t.substr(0,4)),this.month=parseInt(t.substr(4,2)),this.day=parseInt(t.substr(6,2)),this.hours=0,this.minutes=0,this.seconds=0,this._validateVars(),this._normalizeVars(),this._computeWeekDay()}setFromYYYYMMDDHHMMSS(t){t=""+t,this.year=parseInt(t.substr(0,4)),this.month=parseInt(t.substr(4,2)),this.day=parseInt(t.substr(6,2)),this.hours=parseInt(t.substr(8,2)),this.minutes=parseInt(t.substr(10,2)),this.seconds=parseInt(t.substr(12,2)),this._validateVars(),this._normalizeVars(),this._computeWeekDay()}setFromSingleVars(t,e,s,r,i,a){this.year=t,this.month=e,this.day=s,this.hours=r,this.minutes=i,this.seconds=a,this._validateVars(),this._normalizeVars(),this._computeWeekDay()}setSeconds(t){this.seconds=t}setMinutes(t){this.minutes=t}setHours(t){this.hours=t}setDay(t){this.day=t}setMonth(t){this.month=t}setYear(t){this.year=t}resetClock(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this}getYear(){return this.year}getMonth(){return this.month}getDay(){return this.day}getHours(){return this.hours}getMinutes(){return this.minutes}getSeconds(){return this.seconds}getParseStatus(){return this.parseStatus}getWeekDay(){return-1===this.weekDay&&this._computeWeekDay(),this.weekDay}getDaysInCurrentMonth(){return this._daysInMonth(this.getYear(),this.getMonth())}isDateEqualTo(t){return this.year===t.year&&this.month===t.month&&this.day===t.day}isBefore(t){const e=[this.year,this.month,this.day,this.hours,this.minutes,this.seconds],s=[t.year,t.month,t.day,t.hours,t.minutes,t.seconds];for(let t=0;t<6;t++){if(e[t]<s[t])return!0;if(e[t]>s[t])return!1}return!1}isAfter(t){const e=[this.year,this.month,this.day,this.hours,this.minutes,this.seconds],s=[t.year,t.month,t.day,t.hours,t.minutes,t.seconds];for(let t=0;t<6;t++){if(e[t]>s[t])return!0;if(e[t]<s[t])return!1}return!1}isNotBefore(t){return!this.isBefore(t)}isNotAfter(t){return!this.isAfter(t)}incYear(){return this.year++,this.weekDay=-1,this._correctDaysInMonth(),this}incMonth_NoDaysInMonthCorrection(){return this.month++,this.month>12&&(this.incYear(),this.month=1),this.weekDay=-1,this}incMonth(){return this.incMonth_NoDaysInMonthCorrection(),this._correctDaysInMonth(),this}incDay(){return this.day++,-1!==this.weekDay&&(this.weekDay=(this.getWeekDay()+1)%7),this.day>this._daysInMonth(this.year,this.month-1)&&(this.incMonth(),this.day=1),this}incDayBy(t){for(let e=0;e<t;e++)this.incDay();return this}incDayUsingExcludedCallback(t,e=null){for(;t(this,e);)this.incDay();for(this.incDay();t(this,e);)this.incDay();return this}incHours(){return this.hours++,this.hours>=24&&(this.incDay(),this.hours-=24),this}incMinutes(){return this.minutes++,this.minutes>=60&&(this.incHours(),this.minutes-=60),this}incSeconds(){return this.seconds++,this.seconds>=60&&(this.incMinutes(),this.seconds-=60),this}incAtPos(t){switch(t){case R.SECONDS_IDX:return this.incSeconds();case R.MINUTES_IDX:return this.incMinutes();case R.HOURS_IDX:return this.incHours();case R.DAY_IDX:return this.incDay();case R.MONTH_IDX:return this.incMonth();case R.YEAR_IDX:return this.incYear();default:throw"ERROR: Incorrect posIdx ["+t("] in incAtPos().")}}incAtPos_NoDaysInMonthCorrection(t){return t===R.MONTH_IDX?this.incMonth_NoDaysInMonthCorrection():this.incAtPos(t)}incToNextAfternoon(){return this.incDay(),this.hours=0,this.minutes=0,this.seconds=0,this}incYearBy(t){return this.year+=t,this.weekDay=-1,this._correctDaysInMonth(),this}incMonthBy(t){return this.year+=parseInt(t/12),this.month+=parseInt(t%12),this.month>12&&(this.incYear(),this.month-=12),this._correctDaysInMonth(),this.weekDay=-1,this}decYear(){return this.year--,this.weekDay=-1,this._correctDaysInMonth(),this}decMonth(){return this.month--,this.month<1&&(this.decYear(),this.month=12),this.weekDay=-1,this._correctDaysInMonth(),this}decDay(){return this.day--,-1!==this.weekDay&&(this.weekDay=this.getWeekDay()-1),this.day<1&&(this.decMonth(),this.day=this._daysInMonth(this.year,this.month-1)),this.weekDay<0&&(this.weekDay+=7),this}decDayBy(t){for(let e=0;e<t;e++)this.decDay();return this}decDayUsingExcludedCallback(t,e=null){for(;t(this,e);)this.decDay();for(this.decDay();t(this,e);)this.decDay();return this}decHours(){return this.hours--,this.hours<0&&(this.decDay(),this.hours+=24),this}decHoursBy(t){for(let e=0;e<t;e++)this.decHours();return this}decMinutes(){return this.minutes--,this.minutes<0&&(this.decHours(),this.minutes+=60),this}decSeconds(){return this.seconds--,this.seconds<0&&(this.decMinutes(),this.seconds+=60),this}decAtPos(t){switch(t){case R.SECONDS_IDX:return this.decSeconds();case R.MINUTES_IDX:return this.decMinutes();case R.HOURS_IDX:return this.decHours();case R.DAY_IDX:return this.decDay();case R.MONTH_IDX:return this.decMonth();case R.YEAR_IDX:return this.decYear();default:console.log("ERROR: Incorrect posIdx ["+t("] in decAtPos()."))}}decToNearestAfternoon(){return this.hours=0,this.minutes=0,this.seconds=0,this}decYearBy(t){return this.year-=t,this.weekDay=-1,this}decMonthBy(t){return this.year-=parseInt(t/12),this.month-=parseInt(t%12),this.month<1&&(this.decYear(),this.month+=12),this.day>this._daysInMonth(this.year,this.month-1)&&(this.day=this._daysInMonth(this.year,this.month-1)),this.weekDay=-1,this}isCorrect(){return this.year>=R.YEAR_MIN&&this.year<=R.YEAR_MAX&&this.month>=1&&this.month<=12&&this.day>=1&&this.day<=this._daysInMonth(this.year,this.month-1)&&this.hours>=0&&this.hours<60&&this.minutes>=0&&this.minutes<60&&this.seconds>=0&&this.seconds<60}diffTo(t,e=null,s=null){const r={},i=new R,a=new R;if(i.setFromYMDHMS(this),r.years=0,r.months=0,r.days=0,r.hours=0,r.minutes=0,r.seconds=0,r.totalYears=0,r.totalMonths=0,r.totalDays=0,r.totalHours=0,r.totalMinutes=0,r.totalSeconds=0,this.isCorrect())if(t.isCorrect()){if(this.isEqualTo(t));else if(this.isAfter(t))r.error=!0,r.errorCode="invalidParameter",r.errorHint="First timestamp is after second one at diffTo().";else if(i.isBefore(t)){const n=[0,0,0,0,0,0];for(let e=R.YEAR_IDX;e>=R.SECONDS_IDX;e--){for(;i.isNotAfter(t);)a.setFromYMDHMS(i),i.incAtPos_NoDaysInMonthCorrection(e),n[e]++;n[e]--,i.setFromYMDHMS(a)}for(r.seconds=n[R.SECONDS_IDX],r.minutes=n[R.MINUTES_IDX],r.hours=n[R.HOURS_IDX],r.days=n[R.DAY_IDX],r.months=n[R.MONTH_IDX],r.years=n[R.YEAR_IDX],r.totalDays=0,i.setFromYMDHMS(this);i.isNotAfter(t);)null!==e&&e(i,s)||r.totalDays++,i.incDay();r.totalDays--,null!==e&&e(t,s,!1)&&i.isAfternoon()&&r.totalDays++,e?(r.totalYears=-1,r.totalMonths=-1,r.years=-1,r.months=-1):(r.totalYears=r.years,r.totalMonths=12*r.years+r.months),r.totalHours=24*r.totalDays+r.hours,r.totalMinutes=60*r.totalHours+r.minutes,r.totalSeconds=60*r.totalMinutes+r.seconds}}else r.error=!0,r.errorCode="invalidParameter",r.errorHint="Incorrect seconds date at diffTo().";else r.error=!0,r.errorCode="internalError",r.errorHint="Invalid this object at diffTo().";return r}diffToUsingDefaultCallback(t,e,s,r){this.holidaysManager=r;const i={error:!0},a=this.getDeepCopy(),n=t.getDeepCopy();if(i.excludeSaturdays=!!(e&R.EXCLUDE_SATURDAYS),i.excludeSundays=!!(e&R.EXCLUDE_SUNDAYS),i.excludeHolidays=!!(e&R.EXCLUDE_HOLIDAYS),i.filterEnabled=i.excludeSaturdays||i.excludeSundays||i.excludeHolidays,i.startTimestamp=this,i.endTimestamp=t,a.getParseStatus().all===R.STATUS_OK&&n.getParseStatus().all===R.STATUS_OK){i.error=!1;let t=null,r=null;0!==e&&(t=new Object,t.excludeSaturdays=e&R.EXCLUDE_SATURDAYS,t.excludeSundays=e&R.EXCLUDE_SUNDAYS,t.excludePublicHolidays=e&R.EXCLUDE_HOLIDAYS,t.holidays=new Array,t.holidaysIdx=0,t.excludedSaturdaysCnt=0,t.excludedSundaysCnt=0,t.excludedHolidaysCnt=0,t.excludedDaysCnt=0,r=R.isDayExcludedDefaultCallback,e&R.EXCLUDE_HOLIDAYS&&(this.holidaysManager.isHolidaysDBCoversTimestampsRange(a,n)?t.holidays=s.getHolidaysArrayWithinRange(a,n):(i.error=!0,i.errorCode="invalidParameter",i.errorHint="Dates outside HolidaysDB range in diffToUsingDefaultCallback().")),r(a,t)&&a.incToNextAfternoon(),!n.isAfternoon()&&r(n,t,!1)&&n.decToNearestAfternoon()),!1===i.error&&(i.count=a.diffTo(n,r,t),i.error=i.count.error,i.defaultErrorText=i.count.defaultErrorText,null!=t&&(i.excludedSaturdaysCnt=t.excludedSaturdaysCnt,i.excludedSundaysCnt=t.excludedSundaysCnt,i.excludedHolidaysCnt=t.excludedHolidaysCnt,i.excludedDaysCnt=t.excludedDaysCnt,i.holidaysList=t.holidays))}return i}clone(){const t=new R;return t.setFromYMDHMS(this),t.parseStatus=M.deepClone(this.parseStatus),t}isEqualTo(t){return t.getYear()===this.getYear()&&t.getMonth()===this.getMonth()&&t.getDay()===this.getDay()&&t.getHours()===this.getHours()&&t.getMinutes()===this.getMinutes()&&t.getSeconds()===this.getSeconds()}toString(){let t=this._zeroFill(this.year,4)+"-"+this._zeroFill(this.month,2)+"-"+this._zeroFill(this.day,2)+" ";return t+=this._zeroFill(this.hours,2)+":"+this._zeroFill(this.minutes,2)+":"+this._zeroFill(this.seconds,2),t}encodeToURIComponent(t){let e,s;return e=0===this.hours&&0===this.minutes&&0===this.seconds?encodeURIComponent(this.toYYYYMMDDInt()):encodeURIComponent(this.toYYYYMMDDHHMMSSString()),s=!0===(null!=t?t.omitClassIdDeclaration:void 0)?e:"$"+this.getClassId()+"("+e+")",s}readValueFromStream(t){const e=this.variantNamespace.readValueFromStream(t);8===e.length?this.setFromYYYYMMDDString(e):this.setFromYYYYMMDDHHMMSS(e)}getClassId(){return"time"}}R.STATUS_OK=1,R.STATUS_ILLEGAL=2,R.SUNDAY=0,R.MONDAY=1,R.TUESDAY=2,R.WEDNESDAY=3,R.THURSDAY=4,R.FRIDAY=5,R.SATURDAY=6,R.EXCLUDE_SATURDAYS=1,R.EXCLUDE_SUNDAYS=2,R.EXCLUDE_HOLIDAYS=4,R.YEAR_MIN=1e3,R.YEAR_MAX=3e3,R.SECONDS_IDX=0,R.MINUTES_IDX=1,R.HOURS_IDX=2,R.DAY_IDX=3,R.MONTH_IDX=4,R.YEAR_IDX=5,O.registerVariantType("time",R);var x={KBSCVariantTimestampYMDHMS:R};const{KObject:N}=c,{KNumber:F}=I,{KBSCVariantAbstract:V}=g(),{variantDefaultNamespace:A}=C();class w extends V{constructor(){super(),this.reset()}static createFromSingleVars(t,e,s,r,i,a){const n=new w;return n.setFromSingleVars(t,e,s,r,i,a),n}setFromSingleVars(t,e,s,r,i,a){this.reset(),F.isDecimalInteger(t)||(this.validationResults.childValidationResults.years.error=!0),F.isDecimalInteger(e)||(this.validationResults.childValidationResults.months.error=!0),F.isDecimalInteger(s)||(this.validationResults.childValidationResults.days.error=!0),F.isDecimalInteger(r)||(this.validationResults.childValidationResults.hours.error=!0),F.isDecimalInteger(i)||(this.validationResults.childValidationResults.minutes.error=!0),F.isDecimalInteger(a)||(this.validationResults.childValidationResults.seconds.error=!0),this.validationResults.error=this.validationResults.childValidationResults.years.error||this.validationResults.childValidationResults.months.error||this.validationResults.childValidationResults.days.error||this.validationResults.childValidationResults.hours.error||this.validationResults.childValidationResults.minutes.error||this.validationResults.childValidationResults.seconds.error,this.years=parseInt(t),this.months=parseInt(e),this.days=parseInt(s),this.hours=parseInt(r),this.minutes=parseInt(i),this.seconds=parseInt(a)}setSeconds(t){this.seconds=parseInt(t)}setMinutes(t){this.minutes=parseInt(t)}setHours(t){this.hours=parseInt(t)}setDays(t){this.days=parseInt(t)}setMonths(t){this.months=parseInt(t)}setYears(t){this.years=parseInt(t)}setFromCompactValue(t){const e=t.split(","),s=6-e.length;for(let t=0;t<s;t++)e.unshift(0);this.years=parseInt(e[0]),this.months=parseInt(e[1]),this.days=parseInt(e[2]),this.hours=parseInt(e[3]),this.minutes=parseInt(e[4]),this.seconds=parseInt(e[5])}reset(){this.years=0,this.months=0,this.days=0,this.minutes=0,this.hours=0,this.validationResults={error:!1,childValidationResults:{years:{error:!1},months:{error:!1},days:{error:!1},hours:{error:!1},minutes:{error:!1},seconds:{error:!1}}}}getYears(){return this.years}getMonths(){return this.months}getDays(){return this.days}getHours(){return this.hours}getMinutes(){return this.minutes}getSeconds(){return this.seconds}getCompactValue(){let t="";const e=e=>null!=e&&e>0?t+=e+",":t.length>0?t+="0,":void 0;return e(this.years),e(this.months),e(this.days),e(this.hours),e(this.minutes),null!=this.seconds&&this.seconds>0?t+=this.seconds:t+="0",t}getValidationResults(){return this.validationResults}clone(){const t=new w;return t.setFromSingleVars(this.years,this.months,this.days,this.hours,this.minutes,this.seconds),t.validationResults=N.deepClone(this.validationResults),t}isEqualTo(t){let e=!1;if(this.years===t.years&&this.months===t.months&&this.days===t.days&&this.hours===t.hours&&this.minutes===t.minutes&&this.seconds===t.seconds&&this.validationResults.error===t.validationResults.error){e=!0;for(let s in this.validationResults.childValidationResults){if(this.validationResults.childValidationResults[s].error!==t.validationResults.childValidationResults[s].error){e=!1;break}}}return e}toString(){let t=this._zeroFill(this.years,4)+"-"+this._zeroFill(this.months,2)+"-"+this._zeroFill(this.days,2)+" ";return t+=this._zeroFill(this.hours,2)+":"+this._zeroFill(this.minutes,2)+":"+this._zeroFill(this.seconds,2),t}encodeToURIComponent(t){let e;return e=t&&t.omitClassIdDeclaration?this.getCompactValue():"$"+this.getClassId()+"("+this.getCompactValue()+")",e}readValueFromStream(t){const e=[];for(;")"!==t.src[t.idx]&&!t.err;){const s=this.variantNamespace.readValueFromStream(t);e.push(s)}if(!t.err){const t=6-e.length;for(let s=0;s<t;s++)e.unshift(0);this.years=parseInt(e[0]),this.months=parseInt(e[1]),this.days=parseInt(e[2]),this.hours=parseInt(e[3]),this.minutes=parseInt(e[4]),this.seconds=parseInt(e[5])}}getClassId(){return"timeAmount"}}A.registerVariantType("timeAmount",w);var b={KBSCVariantTimeAmount:w};const{KObject:E}=c,{KNumber:U}=I,{KBSCVariantAbstract:v}=g(),{variantDefaultNamespace:H}=C();class B extends v{constructor(){super(),this.reset()}static createFromHHMMSS(t){const e=new B;return e.initFromHHMMSS(t),e}static createFromSingleVars(t,e,s){const r=new B;return U.isDecimalInteger(t)||(r.validationResults.childValidationResults.hours.error=!0),U.isDecimalInteger(e)||(r.validationResults.childValidationResults.minutes.error=!0),U.isDecimalInteger(s)||(r.validationResults.childValidationResults.seconds.error=!0),r.validationResults.error=r.validationResults.childValidationResults.hours.error||r.validationResults.childValidationResults.minutes.error||r.validationResults.childValidationResults.seconds.error,r.hours=parseInt(t),r.minutes=parseInt(e),r.seconds=parseInt(s),r}static createFromDateObj(t){const e=new B;return e.hours=t.getHours(),e.minutes=t.getMinutes(),e.seconds=t.getSeconds(),e}getValidationResults(){return this.validationResults}reset(){this.hours=0,this.minutes=0,this.seconds=0,this.validationResults={error:!1,childValidationResults:{hours:{error:!1},minutes:{error:!1},seconds:{error:!1}}}}_zeroFill(t,e){const s=t.toString(),r=e-s.length;return"0".repeat(r)+s}getHHMMSS(){return this._zeroFill(this.hours,2)+this._zeroFill(this.minutes,2)+this._zeroFill(this.seconds,2)}getHours(){return this.hours}getMinutes(){return this.minutes}getSeconds(){return this.seconds}initFromHHMMSS(t){this.hours=parseInt(t.substr(0,2)),this.minutes=parseInt(t.substr(2,2)),this.seconds=parseInt(t.substr(4,2))}clone(){const t=new B;return t.hours=this.hours,t.minutes=this.minutes,t.seconds=this.seconds,t.validationResults=E.deepClone(this.validationResults),t}isEqualTo(t){return t.getHours()===this.getHours()&&t.getMinutes()===this.getMinutes()&&t.getSeconds()===this.getSeconds()}toString(){return this._zeroFill(this.hours,2)+":"+this._zeroFill(this.minutes,2)+":"+this._zeroFill(this.seconds,2)}encodeToURIComponent(t){let e=null;const s=encodeURIComponent(this.getHHMMSS());return e=t&&t.omitClassIdDeclaration?s:"$"+this.getClassId()+"("+s+")",e}readValueFromStream(t){const e=this.variantNamespace.readValueFromStream(t);this.initFromHHMMSS(e)}getClassId(){return"clock"}}H.registerVariantType("clock",B);var K={KBSCVariantClockHMS:B};const{KBSCVariantAbstract:k}=g(),{variantDefaultNamespace:P}=C();class X extends k{constructor(t){super(),t?this.data=t:this.reset()}reset(){this.data={}}getValueById(t){return this.data[t]}setValueById(t,e){this.data[t]=e}getValueOrDefaultById(t,e){let s;return s=this.data[t]?this.data[t]:e,s}getData(){return this.data}setData(t){this.data=t}clone(){const t=new X;for(let e in this.data){const s=this.data[e];t.data[e]=k.cloneSetting(s)}return t}isEqualTo(t){let e=!0;for(let s in t.data)if(!k.areSettingsEqual(t.data[s],this.data[s])){e=!1;break}return e}toString(){return"TODO: KBSCVariantMap::toString()"}encodeToURIComponent(){let t="$"+this.getClassId()+"(",e="";for(let s in this.data){const r=this.data[s];t+=e+this.variantNamespace.encodeToURIComponent(s)+":"+this.variantNamespace.encodeToURIComponent(r),e=","}return t+=")",t}readValueFromStream(t){this.reset();const e={};for(;")"!==t.src[t.idx]&&!t.err;){const s=this.variantNamespace.readKeyFromStream(t),r=this.variantNamespace.readValueFromStream(t);e[s]=r}t.err||(this.data=e)}getClassId(){return"map"}}P.registerVariantType("map",X);var z={KBSCVariantMap:X};const{KBSCVariantAbstract:j}=g(),{KBSCVariantMap:L}=z,{variantDefaultNamespace:q}=C();class W extends j{constructor(t){super(),t?this.data=t:this.reset()}reset(){this.data=[]}getValueByIdx(t){return this.data[t]}setValueByIdx(t,e){this.data[t]=e}pushValue(t){this.data.push(t)}getData(){return this.data}setData(t){this.data=t}clone(){const t=new L;for(let e in this.data){const s=this.data[e];t.data[e]=j.cloneSetting(s)}return t}isEqualTo(t){let e=!0;for(let s in t.data)if(!j.areSettingsEqual(t.data[s],this.data[s])){e=!1;break}return e}toString(){return"TODO: KBSCVariantArray::toString()"}encodeToURIComponent(){let t="$"+this.getClassId()+"(",e="";for(let s in this.data){const r=this.data[s];t+=e+this.variantNamespace.encodeToURIComponent(r),e=","}return t+=")",t}readValueFromStream(t){this.reset();const e=[];for(;")"!==t.src[t.idx]&&null==t.err;){const s=this.variantNamespace.readValueFromStream(t);e.push(s)}t.err||(this.data=e)}getClassId(){return"array"}}q.registerVariantType("array",W);var $={KBSCVariantArray:W};const{KError:G}=r,{KObject:J}=c,{KBSCVariantAbstract:Q}=g(),{KBSCVariantArray:Z}=$,{KBSCVariantMap:tt}=z,{variantDefaultNamespace:et}=C();class st extends tt{getClassId(){return"table2d"}}class rt extends Q{constructor(t){super(),t?this.setData(t):this.reset()}reset(){this.data={content:{},order:[]},this._clearCompactData()}getNextUniqueRowId(){if(null==this.nextUniqueId&&(this.nextUniqueId=0),this.data.content[this.nextUniqueId]){let t=0;for(let e of this.data.order)parseInt(e)>t&&(t=parseInt(e));this.nextUniqueId=t+1}const t=this.nextUniqueId;return this.nextUniqueId++,t}_clearCompactData(){this.compactData=null,this.compactDataObject=null}_setCompactDataFromData(){this.compactData={},this.compactData._order=new Z(this.data.order);for(let t in this.data.content){const e=this.data.content[t];for(let t in e){const s=e[t];null==this.compactData[t]&&(this.compactData[t]=new Z),this.compactData[t].pushValue(s)}}this.compactDataObject=new st(this.compactData)}getValueByRowIdAndColumnId(t,e){return this.data.content[t]&&this.data.content[t][e]}getValueByRowIndexAndColumnId(t,e){const s=this.data.order[t];return this.data.content[s]&&this.data.content[s][e]}addRow(t,e){if(null==t)t=this.getNextUniqueRowId();else if(this.data.content[t])throw new G({errorCode:"rowAlreadyExists",ext:{rowId:t}});return this._clearCompactData(),this.data.content[t]=e||{},this.data.order.push(t),t}addOrSetRow(t,e){return G.reportIfParameterNotSet(t,"rowId"),G.reportIfParameterNotSet(e,"rowData"),this._clearCompactData(),this.data.content[t]=e,this.data.order.includes(t)||this.data.order.push(t),t}removeRowByIndex(t){let e;t=parseInt(t);const s=this.data.order[t];return null!=s?(delete this.data.content[s],this.data.order.splice(t,1),e=s):e=null,e}removeRowById(t){let e=null;if(this.data.content[t]){delete this.data.content[t];for(let s in this.data.order){if(this.data.order[s]===t){this.data.order.splice(s,1),e=t;break}}}return e}reorderRow(){G.reportNotImplemented("KBSCVariantTable2D::reorderRow")}getArrayOfRowIds(){const t=[];for(let e in this.data.content)t.push(e);return t}setRowsOrder(t){this.data.order=t}setRowsOrderToNumeric(){const t=this.getArrayOfRowIds();t.sort(((t,e)=>t-e)),this.setRowsOrder(t)}setRowsOrderToNumericDescending(){const t=this.getArrayOfRowIds();t.sort(((t,e)=>e-t)),this.setRowsOrder(t)}setRowsOrderToAlphabet(){const t=this.getArrayOfRowIds();t.sort(),this.setRowsOrder(t)}setValueByRowIdAndColumnId(t,e,s){if(!this.data.content[t])throw new G({errorCode:"rowNotFound",ext:{rowId:t}});this._clearCompactData(),this.data.content[t][e]=s}setValueByRowIndexAndColumnId(t,e,s){if(!this.data.order[t])throw new G({errorCode:"rowNotFound",ext:{rowIdx:t}});{const r=this.data.order[t];this.setValueByRowIdAndColumnId(r,e,s)}}getData(){return this.data}getDataContent(){return this.data.content}getDataOrder(){return this.data.order}setData(t){this.data=t,this._clearCompactData()}clone(){const t={};t.order=J.deepClone(this.data.order),t.content={};for(let e in this.data.content){const s=this.data.content[e];t.content[e]={};for(let r in s){const i=s[r];t.content[e][r]=Q.cloneSetting(i)}}return new rt(t)}isEqualTo(t){let e,s=!0;if(t.data.order.length!==this.data.order.length&&(s=!1),s)for(let r in this.data.content){const i=this.data.content[r];for(e in i){const i=t.data.content[r]&&t.data.content[r][e],a=this.data.content[r]&&this.data.content[r][e];if(!Q.areSettingsEqual(i,a)){s=!1;break}}}if(s)for(e in this.data.order)if(t.data.order[e]!==this.data.order[e]){s=!1;break}return s}toString(){return"TODO: KBSCVariantTable2D::toString()"}encodeToURIComponent(){this.compactDataObject||this._setCompactDataFromData();return this.compactDataObject.encodeToURIComponent()}readValueFromStream(t){if(this.reset(),this.compactDataObject=new st,this.compactDataObject.readValueFromStream(t),this.compactData=this.compactDataObject.getData(),this.compactData._order){this.data.order=this.compactData._order.getData(),this.data.content={};for(let t in this.data.order){const e=this.data.order[t];let s={};this.data.content[e]=s;for(let e in this.compactData){const r=this.compactData[e];"_order"!==e&&(s[e]=r.getValueByIdx(t))}}}else this.reset(),t.err=!0}getClassId(){return"table2d"}}et.registerVariantType("table2d",rt);var it,at={KBSCVariantTable2D_CompactData:st,KBSCVariantTable2D:rt};return function(t){t.exports={...r,...n,...c,...d,...I},Object.assign(t.exports.BSC,{...C(),...g(),...x,...b,...K,...z,...$,...at});for(let e in t.exports)"K"===e[0]&&(t.exports[e.substr(1)]=t.exports[e]);for(let e in t.exports.BSC)0===e.indexOf("KBSC")&&(t.exports.BSC[e.substr(4)]=t.exports.BSC[e])}(e),(it=t).exports={...e.exports,KMachine:class{static isBrowser(){return!0}static isNodeServer(){return!1}}},window.K=it.exports,t.exports}();
